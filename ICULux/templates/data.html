{%extends "layout.html" %}
</head>
<body>
{%block body %}
	<header class="masthead" style="background-image: url('static/img/heartbeat.gif');">
    <div class="overlay"></div>
    
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="site-heading">
            <h1>ICUlux</h1>
            <span class="subheading">Patient Monitor</span>
          </div>
        </div>
      </div>
    </div>
  </header>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type=text/javascript>
    $(function() {
      $('a#start').bind('click', function() {
        $.ajax({
                 url: "{{ url_for('data_stream') }}",
                 method: "POST",
                 data: JSON.stringify("start"),
                 contentType: 'application/json;charset=UTF-8',
                 success: function(data) {
                   console.log(data);
                 }
                });
        return false;
      });
    });
    
     

    
</script>
<script type="text/javascript">
  (function updatePage() {
    var name = "HR";
    $.getJSON('/data_stream', function(current) {
        // Your code to update the page here.
        // `data` is the response JSON, in JavaScript object form.
        name = String(current.name);
                $("#HR.val1").html(current.val1);
                $("#"+name+" .condition").html(current.condition);
                $("#"+name+" .message").html(current.message);
                $("#"+name+" .change").html(current.change);
    });
});

setInterval(updatePage, 1000);
</script>
  <table name="patient_data">
    {% for row in data %}
        <tr>
            <th>Patient ID:</th>
            <td>{{row[0]}}</td>
        </tr>  
        <tr>
            <th>Name:</th>
            <td>{{row[1]}}</td>
        </tr>
        <tr>
            <th>Age:</th>
            <td>{{row[2]}}</td>
        </tr>
        <tr>
            <th>Gender:</th>
            <td>{{row[3]}}</td>
        </tr>
        <tr>
            <th>Disease:</th>
            <td>{{row[5]}}</td>
        </tr>
        <tr>
            <th>Date of Arrival:</th>
            <td>{{row[4]}}</td>
        </tr>
    {% endfor %}
  </table>

  <form method="POST" action="/">
    <a href=# id="start"><input type="button" value="start" name="start"/></a> 
    <input type="button" id="end" value="end" name="end"/> 
  </form>
  
  
  <h3 id="RESP">RESP</h2>
  
    <p>Value: </p>
    <span class="val1"></span><br>
    <p>Current Nature: </p>
    <span class="condition"></span><br>
    <span class="message"></span><br>
    <p>Nature of Change: </p>
    <span class="change"></span>

  <h2 id="CBP">CBP</h2>
  <h2 id="ABP">ABP</h2>
  <h2 id="NBP">NBP</h2>
  <h2 id="SpO2">SpO2</h2>
  
    <p>Value: </p>
    <span class="val1"></span><br>
    <p>Current Nature: </p>
    <span class="condition"></span><br>
    <span class="message"></span><br>
    <p>Nature of Change: </p>
    <span class="change"></span>

  <h2 id="HR">HR</h2>

    <p>Value: </p>
    <span class="val1"></span><br>
    <p>Current Nature: </p>
    <span class="condition"></span><br>
    <span class="message"></span><br>
    <p>Nature of Change: </p>
    <span class="change"></span>

  <h2 id="PULSE">PULSE</h2>
  
    <p>Value: </p>
    <span class="val1"></span><br>
    <p>Current Nature: </p>
    <span class="condition"></span><br>
    <span class="message"></span><br>
    <p>Nature of Change: </p>
    <span class="change"></span>
  <h2 id="CO">CO</h2>
  
    <p>Value: </p>
    <span class="val1"></span><br>
    <p>Current Nature: </p>
    <span class="condition"></span><br>
    <span class="message"></span><br>
    <p>Nature of Change: </p>
    <span class="change"></span>
  
  <h2 id="TBlood">TBlood</h2>
  <h2 id="PAP">PAP</h2>
  <h2 id="LAP">LAP</h2>
 
    <p>Value: </p>
    <span class="val1"></span><br>
    <p>Current Nature: </p>
    <span class="condition"></span><br>
    <span class="message"></span><br>
    <p>Nature of Change: </p>
    <span class="change"></span>

  <h2  id="CVP">CVP</h2>
  
    <p>Value: </p>
    <span class="val1"></span><br>
    <p>Current Nature: </p>
    <span class="condition"></span><br>
    <span class="message"></span><br>
    <p>Nature of Change: </p>
    <span class="change"></span>

  <h2  id="EtCO2">EtCO2</h2>
  
    <p>Value: </p>
    <span class="val1"></span><br>
    <p>Current Nature: </p>
    <span class="condition"></span><br>
    <span class="message"></span><br>
    <p>Nature of Change: </p>
    <span class="change"></span>
    
  <h2 id="AWRR">AWRR</h2>
  
    <p>Value: </p>
    <span class="val1"></span><br>
    <p>Current Nature: </p>
    <span class="condition"></span><br>
    <span class="message"></span><br>
    <p>Nature of Change: </p>
    <span class="change"></span>
 
  <h2 id="PAWP">PAWP</h2>
  
    <p>Value: </p>
    <span class="val1"></span><br>
    <p>Current Nature: </p>
    <span class="condition"></span><br>
    <span class="message"></span><br>
    <p>Nature of Change: </p>
    <span class="change"></span>
  
  <h2>IMCO2</h2>
  <h2>ART</h2>
  <h2>ART1</h2>
  <h2>ST1</h2>
  <h2>ST2</h2>
  <h2>ST3</h2>
  <h2>P4</h2>
  <h2>UAP</h2>

</div>
  {% endblock %}
